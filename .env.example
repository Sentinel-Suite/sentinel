# Sentinel Suite - Environment Configuration
# Copy this file to .env and adjust values as needed.

# ──────────────────────────────────────────────
# Application
# ──────────────────────────────────────────────
NODE_ENV=development                     # development | production | test
LOG_LEVEL=debug                          # trace | debug | info | warn | error | fatal

# ──────────────────────────────────────────────
# App Ports
# ──────────────────────────────────────────────
API_PORT=3500                            # NestJS API server
WEB_PORT=3501                            # Next.js web app
ADMIN_PORT=3502                          # Next.js admin app
WORKER_PORT=3503                         # BullMQ worker
DOCS_PORT=3504                           # Nextra docs site

# ──────────────────────────────────────────────
# Database (PostgreSQL)
# ──────────────────────────────────────────────
CONTROL_DATABASE_URL=postgres://sentinel:sentinel@localhost:3510/sentinel_control
POSTGRES_USER=sentinel
POSTGRES_PASSWORD=sentinel
POSTGRES_DB=sentinel_control
POSTGRES_PORT=3510                       # Host port mapped to Postgres 5432

# ──────────────────────────────────────────────
# Cache (Redis)
# ──────────────────────────────────────────────
REDIS_URL=redis://localhost:3511
REDIS_PORT=3511                          # Host port mapped to Redis 6379

# ──────────────────────────────────────────────
# Docker Infrastructure Ports
# ──────────────────────────────────────────────
MAILPIT_SMTP_PORT=3525                   # Mailpit SMTP
MAILPIT_UI_PORT=3526                     # Mailpit web UI
GRAFANA_PORT=3530                        # Grafana dashboards
LOKI_PORT=3531                           # Loki log aggregation
PROMETHEUS_PORT=3532                     # Prometheus metrics
JAEGER_UI_PORT=3533                      # Jaeger tracing UI
JAEGER_OTLP_PORT=4318                    # OpenTelemetry OTLP receiver
GLITCHTIP_PORT=3540                      # GlitchTip error tracking
GLITCHTIP_SECRET_KEY=change-me-in-production
FLAGSMITH_PORT=3541                      # Flagsmith feature flags
PGADMIN_PORT=3550                        # pgAdmin web UI
PGADMIN_EMAIL=admin@sentinel.local
PGADMIN_PASSWORD=admin
TRAEFIK_DASHBOARD_PORT=3580              # Traefik dashboard

# ──────────────────────────────────────────────
# Observability
# ──────────────────────────────────────────────
SENTRY_DSN=                              # GlitchTip/Sentry DSN (set after GlitchTip setup)
FLAGSMITH_SERVER_SIDE_KEY=               # Flagsmith server-side environment key
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318  # OpenTelemetry collector
LOKI_URL=http://localhost:3531           # Loki endpoint for pino-loki transport
METRICS_PORT=9464                        # Prometheus exporter port
